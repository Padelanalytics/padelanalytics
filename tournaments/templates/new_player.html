{% extends "base.html" %}
{% load static %}
{% load widget_tweaks %}

{% block content %}
<div class="container_12" style="position: relative">
    <div class="card roll">
        <h1>{% trans "Germany" %}</h1>
        <h2>Anmeldungsformular</h2>
    </div>

    <div class="card">
        <div class="categories col-xs-12" style="z-index: 2">
            <div style="float: right">
                <img class="col_1 category" src="{% static 'images/kategorien/gps100.jpg' %}" alt="GPS-100">
                <img class="col_1 category" src="{% static 'images/kategorien/gps250.jpg' %}" alt="GPS-250">
                <img class="col_1 category" src="{% static 'images/kategorien/gps500.jpg' %}" alt="GPS-500">
                <img class="col_1 category" src="{% static 'images/kategorien/gps1000.jpg' %}" alt="GPS-1000">
                <img class="col_1 category" src="{% static 'images/kategorien/gps1200.jpg' %}" alt="GPS-1200">
                <img class="col_1 category" src="{% static 'images/kategorien/w-gps.jpg' %}" alt="GPS-Women">
            </div>
        </div>
        <br>

        <!-- <form method="post">
            {{ formset.management_form }}
            {% for form in formset %}
                {{ form.first_name }}
            {% endfor %}
        </form> -->


        <form style="min-height: 500px; margin-top: 10px" method="post" action="">
            {% csrf_token %}
            {{ formset.management_form }}
            {% for form in formset %}
            <div class="form col-sm-9 col-md-8 col-lg-7">
                <div class="col-xs-12 col-sm-12">
                    <h3 class="form_title">Personaldaten</h3><br>

                    <div class="col-sm-12 input-group input-group-icon"
                         style="padding:0px">
                        <div class="input-icon"><i class="fa fa-user"></i></div>
                        {{form.first_name}}
                    </div>
                    {% if form.first_name.errors %}
                    <div id="firstname_errors" class="col-sm-12">
                        <div class="inner" style="margin:-10px 0 20px 10px; color: red">
                            {{form.first_name.errors}}
                        </div>
                    </div>
                    {% endif %}

                    <div class="col-sm-12 input-group input-group-icon"
                         style="padding:0px;">
                        <div class="input-icon"><i class="fa fa-user-o"></i></div>
                        {{form.last_name}}
                    </div>
                    {% if form.last_name.errors %}
                    <div id="lastname_errors" class="col-sm-12">
                        <div class="inner" style="margin:-10px 0 20px 10px; color: red">
                            {{form.last_name.errors}}
                        </div>
                    </div>
                    {% endif %}

                    <div class="col-sm-12 input-group input-group-icon"
                         style="padding:0px;">
                        <div class="input-icon"><i class="fa fa-user-o"></i></div>
                        {{form.last_name2}}
                    </div>

                    <div class="col-sm-12 input-group input-group-icon"
                         style="padding:0px;">
                        <div class="input-icon"><i class="fa fa-transgender"></i></div>
                        {{form.gender}}
                    </div>
                    {% if form.gender.errors %}
                    <div id="gender_errors" class="col-sm-12">
                        <div class="inner" style="margin:-10px 0 20px 10px; color: red">
                            {{form.gender.errors}}
                        </div>
                    </div>
                    {% endif %}

                    <div class="col-sm-12 input-group input-group-icon" style="padding:0px">
                        <div class="input-icon"><i class="fa fa-envelope"></i></div>
                        {{form.email}}
                    </div>
                    {% if form.email.errors %}
                    <div id="email_errors" class="col-sm-12">
                        <div class="inner" style="margin:-10px 0 20px 10px; color: red">
                            {{form.email.errors}}
                        </div>
                    </div>
                    {% endif %}

                    <div class="col-sm-12 input-group input-group-icon"
                         style="padding:0px">
                        <div class="input-icon"><i class="fa fa-phone"></i></div>
                        {{form.phone}}
                    </div>
                    {% if form.phone.errors %}
                    <div id="phone_errors" class="col-sm-12">
                        <div class="inner" style="margin:-10px 0 20px 10px; color: red">
                            {{form.phone.errors}}
                        </div>
                    </div></div></div>
                    {% endif %}


                <hr class="separador">
                <h3 class="form_title" style="margin:10px 0 0 10px; ">zusätzliche Infos</h3><br>

                <div class="col-sm-12 input-group input-group-icon"
                         style="padding:0px">
                    <div class="input-icon"><i class="fa fa-map-marker"></i></div>
                    {{form.birthplace}}
                </div>
                {% if form.birthplace.errors %}
                <div id="birthplace_errors" class="col-sm-12">
                    <div class="inner" style="margin:-10px 0 20px 10px; color: red">
                        {{form.birthplace.errors}}
                    </div>
                </div>
                {% endif %}

                <div class="col-sm-12 input-group input-group-icon"
                         style="padding:0px">
                    <div class="input-icon"><i class="fa fa-calendar"></i></div>
                    {{form.born}}
                </div>

                {% if form.born.errors %}
                <div id="born_errors" class="col-sm-12">
                    <div class="inner" style="margin:-10px 0 20px 10px; color: red">
                        {{form.born.errors}}
                    </div>
                </div>
                {% endif %}

                <div class="col-sm-12 input-group input-group-icon"
                     style="padding:0px">
                    <div class="input-icon"><i class="fa fa-map"></i></div>
                    {{form.country}}
                </div>
                {% if form.country.errors %}
                <div id="country_errors" class="col-sm-12">
                    <div class="inner" style="margin:-10px 0 20px 10px; color: red">
                        {{form.country.errors}}
                    </div>
                </div>
                {% endif %}

                <div class="col-sm-12 input-group input-group-icon"
                     style="padding:0px">
                    <div class="input-icon"><i class="fa fa-home"></i></div>
                    {{form.city}}
                </div>
                {% if form.city.errors %}
                <div id="city_errors" class="col-sm-12">
                    <div class="inner" style="margin:-10px 0 20px 10px; color: red">
                        {{form.city.errors}}
                    </div>
                </div>
                {% endif %}


                <hr class="separador">

                <h3 class="form_title" style="margin:10px 0 0 10px">Verein- und Verbandsgehörigkeit</h3><br>

                <div class="col-sm-12 input-group input-group-icon" style="padding:0px">
                    <div class="input-icon"><i class="fa fa-shield"></i></div>
                    {{form.club}}
                </div>
                {% if form.club.errors %}
                <div id="club_errors" class="col-sm-12">
                    <div class="inner" style="margin:-10px 0 20px 10px; color: red">
                        {{form.club.errors}}
                    </div>
                </div></div>
                {% endif %}

                <hr class="separador">

                <div class="col-xs-12 col-sm-12">
                    <div class="form-check">
                        <h3 class="form_title" style="margin-top:10px">Bestätigung</h3>
                        {{form.policy_read_a}}
                        <label class="form-check-label" for="id_padelperson-0-policy_read_a">
                            Ich bestätige, dass ich mit den Ausschreibungs- und Anmeldebedingungen sowie den
                            Turnierbestimmungen einverstanden bin und dass die eingegebenen Daten korrekt und
                            vollständig sind. Ich bin auch damit einverstanden, dass die hier erzielten Ergebnisse
                            zusammen mit meinem Namen, der Nation, der Vereinszugehörigkeit und der Spielernummer ggf.
                            veröffentlicht werden und an übergeordnete Stellen (z.B. Standort, Verbände zur
                            Turnierergebnissen und Ranglistenerstellung) weitergegeben werden dürfen.
                        </label>
                    </div>

                    <div class="form-check">
                        {{form.policy_read_b}}
                        <label class="form-check-label" for="id_padelperson-0-policy_read_b">
                            Zur Erstellung von Bildern und Videos von Padel-Spielern und deren Veröffentlichung und
                            Weitergabe an übergeordnete Stellen (z.B. Standort, Verbände zur Turnierergebnissen und
                            Ranglistenerstellung).
                        </label>
                    </div>

                    <div class="form-check">
                        {{form.policy_read_c}}
                        <label class="form-check-label" for="id_padelperson-0-policy_read_c">
                            Zur Erstellung von Bildern und Videos von Padel-Spielern und deren Veröffentlichung und
                            Weitergabe an übergeordnete Stellen (z.B. Standort, Verbände zur Turnierergebnissen und
                            Ranglistenerstellung).
                        </label>
                    </div>
                </div>

                <br>
                {% if form.policy_read.errors %}
                <div id="policy_errors" class="col-sm-12">
                    <div class="inner" style="margin:-10px 0 20px 10px; color: red">
                        {{form.policy_read.errors}}
                    </div>
                </div>
                {% endif %}

                <!-- OK -->
                <button input type="submit" class="col-xs-12 col-sm-4 btn btn-danger"
                        style="float: left; margin-bottom: 8px">
                    OK
                </button>
                {% endfor %}
            </div></div>
        </form>
    </div>
</div>

{% endblock %}

<!-- OK
{% if form.errors %}

<div id="errors">
    <div class="inner" style="margin:10px 0 0 10px; color: red">
        <p>Bitte korrigier die Fehler und versuche es erneut:</p>
        {{ form.non_field_errors }}
        <ul>
            {% for field in form %}
            {% if field.errors %}
            <li>{{ field.label }}: {{ field.errors|striptags }}</li>
            {% endif %}
            {% endfor %}
        </ul>
    </div>
</div>
<br>

{% endif %}<!-- /Error messaging -->

{% block js%}
<script src="{% static 'js/jquery-3.2.1.min.js' %}"></script>
<script src="{% static 'js/jquery-ui.min.js' %}"></script>
<script type="text/javascript">
  $( function() {
    $("#id_padelperson-0-born").datepicker(
    {
      dateFormat: "yy-mm-dd",
      firstDay: 1,
      maxDate: "-10y",
      minDate: "-70y",
      defaultDate: "-30y",
      changeYear: true,
      yearRange: "-70:-10",
    });
  });

</script>
{% endblock %}