{% extends "base.html" %}
{% load staticfiles %}
{% load i18n %}

{% block css %}
<link rel="stylesheet" type="text/css" href="{% static 'css/Anmeldung.css' %}"/>
<link rel="stylesheet" type="text/css" href="{% static 'css/Acordeon.css' %}"/>
<link rel="stylesheet" type="text/css" href="{% static 'css/rotating-card.css' %}"/>
<link rel="stylesheet" type="text/css" href="{% static 'css/ranking.css' %}"/>
<link rel="stylesheet" type="text/css" href="{% static 'css/fresh-bootstrap-table.css' %}"/>
{% endblock %}

{% block content %}
<div class="container_12">

    <!-- Título Página -->
    <div class="card roll">
        <h1>{% trans "Germany" %}</h1>
        <h2>{% trans "Ranking" %}</h2>
    </div>

    <form name="ranking-form" class="form-inline" method="post" style="align: right; margin: 10 0 15 0">
        {% csrf_token %}
        <div class="col-xs-4 col-sm-3 col-md-3">
            <h3 class="form_title">{% trans "Date" %}</h3>
            <div class="input-group input-group-icon sm-hidden">
                <div class="input-icon"><i class="fa fa-calendar"></i></div>
            </div>
            <h3 class="form_title">{{form.date}}</h3>
        </div>
        <div class="col-xs-4 col-sm-3 col-md-3">
            <h3 class="form_title">{% trans "Division" %}</h3>
            <div class="input-group input-group-icon sm-hidden">
                <div class="input-icon"><i class="fa fa-users"></i></div>
            </div>
            <h3 class="form_title">{{form.division}}</h3>
        </div>
    </form>

    <table id="fresh-table" class="table table-hover table-striped">
        <thead>
        <tr>
            <th data-field="rank">
                <div class="th-inner ">{% trans "Rank" %}</div>
                <div class="fht-cell"></div>
            </th>
            <!--<th style="" data-field="move">-->
            <!--<div class="th-inner sortable both">{% trans "Move" %}</div>-->
            <!--<div class="fht-cell"></div>-->
            <!--</th>-->
            <th data-field="player">
                <div class="th-inner sortable both">{% trans "Player" %}</div>
                <div class="fht-cell"></div>
            </th>
            <th data-field="points">
                <div class="th-inner sortable both">{% trans "Points" %}</div>
                <div class="fht-cell"></div>
            </th>
            <th data-field="tournamets_played">
                <div class="th-inner sortable both">{% trans "Tournaments played" %}</div>
                <div class="fht-cell"></div>
            </th>
            <th data-field="club">
                <div class="th-inner sortable both">{% trans "Club" %}</div>
                <div class="fht-cell"></div>
            </th>
        </tr>
        </thead>

        <tbody>
            {% for rk in ranking %}
            <tr data-index="{{forloop.counter}}-1">
                <td>
                    {{forloop.counter}}
                </td>
                <!--<td>-->
                <!--{% if forloop.counter != 0 %}-->
                    <!--<div class="col-sm-2 input-group input-group-icon" style="float: left; padding-left: 0px; padding-right: 16px">-->
                        <!--<div class="input-icon" style="margin-top: 0px">-->
                            <!--{% if forloop.counter > 0 %}-->
                                <!--<i class="fa fa-angle-double-up" style="float:left; left: 0; color: green"></i>-->
                            <!--{% endif %}-->
                            <!--{% if forloop.counter < 0 %}-->
                                <!--<i class="fa fa-angle-double-down" style="float:left; left: 0; color: red"></i>-->
                            <!--{% endif %}-->
                        <!--</div>-->
                    <!--</div>-->
                    <!--{{forloop.counter}}-->
                <!--{% endif %}-->
                <!--</td>-->
                <td style="width: 50%; text-transform: uppercase; font-weight: 600">
                    <a style="color: #000" href="{% url 'player' rk.person.id %}">{{rk.person.first_name}}
                    {{rk.person.last_name}}</a>
                </td>
                <td>{{rk.points}}</td>
                <td>{{rk.tournaments_played}}</td>
                <td>{{rk.person.club.name}}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
</div>

{% endblock %}

{% block js %}
<script type="text/javascript">
    var $table = $('#fresh-table'),
        full_screen = false;

    $().ready(function(){
        $table.bootstrapTable({
            toolbar: ".toolbar",

            showRefresh: true,
            search: true,
            showToggle: true,
            showColumns: true,
            pagination: true,
            striped: true,
            sortable: true,
            pageSize: 25,
            pageList: [8,10,25,50,100],

            formatShowingRows: function(pageFrom, pageTo, totalRows){
                //do nothing here, we don't want to show the text "showing x of y from..."
            },
            formatRecordsPerPage: function(pageNumber){
                return pageNumber + " rows visible";
            },
            icons: {
                refresh: 'fa fa-refresh',
                toggle: 'fa fa-th-list',
                columns: 'fa fa-columns',
                detailOpen: 'fa fa-plus-circle',
                detailClose: 'fa fa-minus-circle'
            }
        });
    });


    window.operateEvents = {
        'click .like': function (e, value, row, index) {
            alert('You click like icon, row: ' + JSON.stringify(row));
            console.log(value, row, index);
        },
        'click .edit': function (e, value, row, index) {
            console.log(value, row, index);
        },
        'click .remove': function (e, value, row, index) {
            alert('You click remove icon, row: ' + JSON.stringify(row));
            console.log(value, row, index);
        }
    };


</script>
{% endblock %}
