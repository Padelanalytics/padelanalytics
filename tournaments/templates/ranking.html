<!--
Coppyright (c) 2019 Francisco Javier Revilla Linares to present.
All rights reserved.
-->
{% extends "base.html" %}
{% load staticfiles %}
{% load i18n %}

{% block css %}
<link rel="stylesheet" type="text/css" href="{% static 'css/rotating-card.css' %}"/>
<link rel="stylesheet" type="text/css" href="{% static 'css/fresh-bootstrap-table.css' %}"/>
{% endblock %}

{% block content %}
<div class="container_12">

    <!-- Title -->
    <div class="root roll">
        <a href="/" class="inactive">{% trans "Home" %}</a>
        <i class="fa fa-chevron-right"></i>
        <a href="{% url 'ranking' %}" class="inactive">{% trans "Rankings" %}</a>
        <i class="fa fa-chevron-right"></i>
        <a class="active">{% trans federation %}</a>
    </div>


    <!-- Ranking Form -->
    <form name="ranking-form" class="form-inline" method="post" style="align: right; margin: 10 0 15 0">
        {% csrf_token %}
        <div class="col-xs-6 col-sm-6 col-md-4">
            <h3 class="form_title">{% trans "Date" %}</h3>
            <div class="input-group input-group-icon sm-hidden">
                <div class="input-icon"><i class="fa fa-calendar"></i></div>
            </div>
            <h3 class="form_title">{{form.date}}</h3>
        </div>
        <div class="col-xs-6 col-sm-6 col-md-4">
            <h3 class="form_title">{% trans "Division" %}</h3>
            <div class="input-group input-group-icon sm-hidden">
                <div class="input-icon"><i class="fa fa-users"></i></div>
            </div>
            <h3 class="form_title">{{form.division}}</h3>
        </div>
    </form>


    <!-- Pagination -->
    <div class="pagination">
      <span class="step-links">
          {% if page_ranking.has_previous %}
              <a href="?page=1">&laquo; first</a>
              <a href="?page={{ page_ranking.previous_page_number }}">previous</a>
          {% endif %}

          <span class="current">
              Page {{ page_ranking.number }} of {{ page_ranking.paginator.num_pages }}.
          </span>

          {% if page_ranking.has_next %}
              <a href="?page={{ page_ranking.next_page_number }}">next</a>
              <a href="?page={{ page_ranking.paginator.num_pages }}">last &raquo;</a>
          {% endif %}
      </span>
    </div>

    <!-- Ranking Table -->
    <table id="fresh-table" class="table table-hover table-striped">
        <thead>
        <tr>
            <th data-field="rank">
                <div class="th-inner ">{% trans "Rank" %}</div>
                <div class="fht-cell"></div>
            </th>
            <th data-field="player">
                <div class="th-inner sortable both">{% trans "Player" %}</div>
                <div class="fht-cell"></div>
            </th>
            <th data-field="points">
                <div class="th-inner sortable both">{% trans "Points" %}</div>
                <div class="fht-cell"></div>
            </th>
            <th data-field="club">
                <div class="th-inner sortable both">{% trans "Club" %}</div>
                <div class="fht-cell"></div>
            </th>
        </tr>
        </thead>

        <tbody>
            {% for rk in page_ranking %}
            <tr data-index="{{forloop.counter}}-1">
                <td>
                    {{rk.position}}
                </td>
                <td style="width: 50%; text-transform: uppercase; font-weight: 600">
                    <a style="color: #000" href="{% url 'player_tab' rk.person.id 'ranking' %}">{{rk.person.first_name}}
                    {{rk.person.last_name}}</a>
                </td>
                <td>{{rk.points}}</td>
                <td>{{rk.person.club.name}}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>


    <!-- Pagination -->
    <div class="pagination">
      <span class="step-links">
          {% if page_ranking.has_previous %}
              <a href="?page=1">&laquo; first</a>
              <a href="?page={{ page_ranking.previous_page_number }}">previous</a>
          {% endif %}

          <span class="current">
              Page {{ page_ranking.number }} of {{ page_ranking.paginator.num_pages }}.
          </span>

          {% if page_ranking.has_next %}
              <a href="?page={{ page_ranking.next_page_number }}">next</a>
              <a href="?page={{ page_ranking.paginator.num_pages }}">last &raquo;</a>
          {% endif %}
      </span>
    </div>

</div>
{% endblock %}
