{% extends "base.html" %}
{% load staticfiles %}
{% load widget_tweaks %}

{% block css %}
<link rel="stylesheet" type="text/css" href="{% static 'css/Anmeldung.css' %}"/>
<link rel="stylesheet" type="text/css" href="{% static 'css/Acordeon.css' %}"/>
{% endblock %}

{% block content %}
<div class="container_12">
    <div class="card roll">
        <h1>German Padel Series 2018</h1>
        <h2>Anmeldungsformular</h2>
    </div>

    <div class="card">
        <div class="box">
            <div class="col-xs-12 col-sm-9" style="float: right; z-index: 2">
                <div style="float: right; margin-right: 15px">
                    <img class="col_1 category" src="{% static 'images/kategorien/gps100.jpg' %}" alt="GPS-100">
                    <img class="col_1 category" src="{% static 'images/kategorien/gps250.jpg' %}" alt="GPS-250">
                    <img class="col_1 category" src="{% static 'images/kategorien/gps500.jpg' %}" alt="GPS-500">
                    <img class="col_1 category" src="{% static 'images/kategorien/gps1000.jpg' %}" alt="GPS-1000">
                    <img class="col_1 category" src="{% static 'images/kategorien/gps1200.jpg' %}" alt="GPS-1200">
                    <img class="col_1 category" src="{% static 'images/kategorien/w-gps.jpg' %}" alt="GPS-Women">
                </div>
            </div>
        </div>
        <br>


        <!-- <form method="post">
            {{ formset.management_form }}
            {% for form in formset %}
                {{ form.first_name }}
            {% endfor %}
        </form> -->


        <form style="min-height: 500px; margin-top: 10px" method="post" action="">
            {% csrf_token %}
            {{ formset.management_form }}
            {% for form in formset %}
            <div class="box col-sm-6" style="left: 25%">
                <div class="col-xs-12 col-sm-12">
                    <h3 class="form_title">Personaldaten</h3><br>

                    <div class="col-sm-12 input-group input-group-icon"
                         style="padding:0px">
                        <div class="input-icon"><i class="fa fa-user"></i></div>
                        {{form.first_name}}
                    </div>
                    {% if form.first_name.errors %}
                    <div id="firstname_errors" class="col-sm-12">
                        <div class="inner" style="margin:-10px 0 20px 10px; color: red">
                            {{form.first_name.errors}}
                        </div>
                    </div>
                    {% endif %}

                    <div class="col-sm-12 input-group input-group-icon"
                         style="padding:0px;">
                        <div class="input-icon"><i class="fa fa-user-o"></i></div>
                        {{form.last_name}}
                    </div>
                    {% if form.last_name.errors %}
                    <div id="lastname_errors" class="col-sm-12">
                        <div class="inner" style="margin:-10px 0 20px 10px; color: red">
                            {{form.last_name.errors}}
                        </div>
                    </div>
                    {% endif %}

                    <div class="col-sm-12 input-group input-group-icon"
                         style="padding:0px;">
                        <div class="input-icon"><i class="fa fa-user-o"></i></div>
                        {{form.last_name2}}
                    </div>

                    <div class="col-sm-12 input-group input-group-icon"
                         style="padding:0px;">
                        <div class="input-icon"><i class="fa fa-transgender"></i></div>
                        {{form.gender}}
                    </div>
                    {% if form.gender.errors %}
                    <div id="gender_errors" class="col-sm-12">
                        <div class="inner" style="margin:-10px 0 20px 10px; color: red">
                            {{form.gender.errors}}
                        </div>
                    </div>
                    {% endif %}

                    <div class="col-sm-12 input-group input-group-icon" style="padding:0px">
                        <div class="input-icon"><i class="fa fa-envelope"></i></div>
                        {{form.email}}
                    </div>
                    {% if form.email.errors %}
                    <div id="email_errors" class="col-sm-12">
                        <div class="inner" style="margin:-10px 0 20px 10px; color: red">
                            {{form.email.errors}}
                        </div>
                    </div>
                    {% endif %}

                    <div class="col-sm-12 input-group input-group-icon"
                         style="padding:0px">
                        <div class="input-icon"><i class="fa fa-phone"></i></div>
                        {{form.phone}}
                    </div>
                    {% if form.phone.errors %}
                    <div id="phone_errors" class="col-sm-12">
                        <div class="inner" style="margin:-10px 0 20px 10px; color: red">
                            {{form.phone.errors}}
                        </div>
                    </div>
                    {% endif %}

                </div>
                <hr class="separador">
                <h3 class="form_title" style="margin:10px 0 0 10px; ">zusätzliche Infos</h3><br>

                <div class="col-sm-6 input-group input-group-icon"
                     style="float: left; padding-right: 4px; ">
                    <div class="input-icon"><i class="fa fa-map-marker"></i></div>
                    {{form.birthplace}}
                </div>
                <div class="col-sm-6 input-group input-group-icon"
                     style="padding-left: 4px; ">
                    <div class="input-icon"><i class="fa fa-calendar"></i></div>
                    {{form.born}}
                </div>

                {% if form.birthplace.errors %}
                <div id="birthplace_errors" class="col-sm-6" style="float:left">
                    <div class="inner" style="margin:-10px 0 20px 10px; color: red">
                        {{form.birthplace.errors}}
                    </div>
                </div>
                {% endif %}

                {% if form.born.errors %}
                <div id="born_errors" class="col-sm-6" style="float:left">
                    <div class="inner" style="margin:-10px 0 20px 10px; color: red">
                        {{form.born.errors}}
                    </div>
                </div>
                {% endif %}

                <div class="col-sm-12 input-group input-group-icon"
                     style="">
                    <div class="input-icon"><i class="fa fa-map"></i></div>
                    {{form.country}}
                </div>
                {% if form.country.errors %}
                <div id="country_errors" class="col-sm-12">
                    <div class="inner" style="margin:-10px 0 20px 10px; color: red">
                        {{form.country.errors}}
                    </div>
                </div>
                {% endif %}

                <div class="col-sm-12 input-group input-group-icon"
                     style="">
                    <div class="input-icon"><i class="fa fa-home"></i></div>
                    {{form.city}}
                </div>
                {% if form.city.errors %}
                <div id="city_errors" class="col-sm-12">
                    <div class="inner" style="margin:-10px 0 20px 10px; color: red">
                        {{form.city.errors}}
                    </div>
                </div>
                {% endif %}


                <hr class="separador">

                <h3 class="form_title" style="margin:10px 0 0 10px">Verein- und Verbandsgehörigkeit</h3><br>

                <div class="col-sm-12 input-group input-group-icon" style="">
                    <div class="input-icon"><i class="fa fa-shield"></i></div>
                    {{form.club}}
                </div>
                {% if form.club.errors %}
                <div id="club_errors" class="col-sm-12">
                    <div class="inner" style="margin:-10px 0 20px 10px; color: red">
                        {{form.club.errors}}
                    </div>
                </div>
                {% endif %}

                <hr class="separador">

                <div class="col-xs-12 col-sm-12">
                    <div class="form-check">
                        <h3 class="form_title" style="margin-top:10px">Bestätigung</h3>
                        {{form.policy_read}}
                        <label class="form-check-label" for="id_padelperson-0-policy_read">
                            Hiermit akzeptieren wir die Anmelde- und Teilnahmebedingungen des DPV / Check
                            here if you accept these terms.
                        </label>
                    </div>
                </div>

                <br>
                {% if form.policy_read.errors %}
                <div id="policy_errors" class="col-sm-12">
                    <div class="inner" style="margin:-10px 0 20px 10px; color: red">
                        {{form.policy_read.errors}}
                    </div>
                </div>
                {% endif %}

                <!-- OK -->
                <button input type="submit" class="col-xs-12 col-sm-4 btn btn-danger"
                        style="float: left; margin-bottom: 8px; margin-left: 8px">
                    OK
                </button>
                {% endfor %}
            </div>
        </form>
    </div>
</div>

{% endblock %}

<!-- OK
{% if form.errors %}

<div id="errors">
    <div class="inner" style="margin:10px 0 0 10px; color: red">
        <p>Bitte korrigier die Fehler und versuche es erneut:</p>
        {{ form.non_field_errors }}
        <ul>
            {% for field in form %}
            {% if field.errors %}
            <li>{{ field.label }}: {{ field.errors|striptags }}</li>
            {% endif %}
            {% endfor %}
        </ul>
    </div>
</div>
<br>

{% endif %}<!-- /Error messaging -->

{% block js%}

<script type="text/javascript">
  $( function() {
    $("#id_padelperson-0-born").datepicker(
    {
      firstDay: 1,
      maxDate: "-10y",
      minDate: "-70y",
      defaultDate: "-30y",
      changeYear: true,
      yearRange: "-70:-10",
    });
  });


</script>
{% endblock %}